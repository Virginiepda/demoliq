{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block content %}
<form method="post" novalidate>
    {% if error %}
        <div class="alert alert-danger">Mauvais identifiant !</div>
    {% endif %}

    <h1 class="h3 mb-3 font-weight-normal">Renseignez les champs suivants pour vous connecter</h1>

    <div class="formulaire">
    <label for="inputEmail" class="sr-only">Email</label>
    <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" placeholder="Email" required autofocus>
    <label for="inputPassword" class="sr-only">Mot de passe</label>
    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password" required>


    {#méthode pour générer un code unique stocké dans la session ,
    ensuite, le code est caché dans le formulaire. SYmfony vérifie si le code est le même que celui qui est en session
    auquel cas, le formulaire vient bien de mon site et non pas d'un hacker #}
    <input type="hidden" name="_csrf_token"
           value="{{ csrf_token('authenticate') }}" >

    {#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" name="_remember_me"> Remember me
            </label>
        </div>
    #}

    <button class="btn btn-md btn-info" type="submit">
        Connexion
    </button>
    </div>
</form>
{% endblock %}
